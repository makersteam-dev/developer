"use strict";(()=>{var e=0,l=0,t=$('[data-form="step"]'),I=$('[data-form="progress-indicator"]').clone(),y,v=!1,u=!0,f=!0,s=!0,b=!0,k="",r=[],h=[],a=[],x=$("[data-reinit]").data("reinit"),N=0,q=0,C=0,A=0,d=[],g=JSON.parse(localStorage.getItem("filledInput")),E=$("[data-memory]").data("memory"),T=$("[data-quiz]").data("quiz");$(I).removeClass("current");$('[data-form="progress"]').children().remove();$('[data-text="total-steps"]').text($('[data-form="step"]:not([data-card="true"])').length);$('[data-form="submit-btn"]').hide();$(t[e]).data("card")?l=l+0:l=l+1;$('[data-text="current-step"]').text(l);t.hide();g&&E&&g.forEach(i=>{$(`input[name="${i.inputName}"][value="${i.value}"]`).attr("type")==="radio"?($(`input[name="${i.inputName}"][value="${i.value}"]`).click(),$(`input[name="${i.inputName}"][value="${i.value}"]`).siblings(".w-radio-input").addClass("w--redirected-checked")):i.value==="on"?($(`input[name="${i.inputName}"]`).click(),$(`input[name="${i.inputName}"]`).siblings(".w-checkbox-input").addClass("w--redirected-checked")):$(`input[name="${i.inputName}"]`).val(i.value)});T&&t.each(function(){$(this).children().attr("data-radio-skip",!0),$(this).children().attr("data-radio-delay",250)});function F(){v=!1,$('[data-form="next-btn"]').css({color:"#B8BBC3","border-top-style":"solid","border-top-width":"1px","border-top-color":"#b8bbc3","border-right-style":"solid","border-right-width":"1px","border-right-color":"#b8bbc3","border-bottom-style":"solid","border-bottom-width":"1px","border-bottom-color":"#b8bbc3","border-left-style":"solid","border-left-width":"1px","border-left-color":"#b8bbc3","background-color":"hsla(213.30275229357798, 0.00%, 100.00%, 1.00)","pointer-events":"none"}),$('[data-form="submit-btn"]').css({color:"#B8BBC3","border-top-style":"solid","border-top-width":"1px","border-top-color":"#b8bbc3","border-right-style":"solid","border-right-width":"1px","border-right-color":"#b8bbc3","border-bottom-style":"solid","border-bottom-width":"1px","border-bottom-color":"#b8bbc3","border-left-style":"solid","border-left-width":"1px","border-left-color":"#b8bbc3","background-color":"hsla(213.30275229357798, 0.00%, 100.00%, 1.00)","pointer-events":"none"})}function m(){v=!0,$('[data-form="next-btn"]').css({color:"#FFFFFF","border-top-style":"solid","border-top-width":"1px","border-top-color":"#1A7BF4","border-right-style":"solid","border-right-width":"1px","border-right-color":"#1A7BF4","border-bottom-style":"solid","border-bottom-width":"1px","border-bottom-color":"#1A7BF4","border-left-style":"solid","border-left-width":"1px","border-left-color":"#1A7BF4","background-color":"#1A7BF4","pointer-events":"auto"}),$('[data-form="submit-btn"]').css({color:"#FFFFFF","border-top-style":"solid","border-top-width":"1px","border-top-color":"#1A7BF4","border-right-style":"solid","border-right-width":"1px","border-right-color":"#1A7BF4","border-bottom-style":"solid","border-bottom-width":"1px","border-bottom-color":"#1A7BF4","border-left-style":"solid","border-left-width":"1px","border-left-color":"#1A7BF4","background-color":"#1A7BF4","pointer-events":"auto"})}function H(){$('form[data-form="multistep"] :input').not('[type="submit"]').each(function(){$(this).attr("type")==="checkbox"||$(this).attr("type")==="radio"?$(this).prop("checked")&&(d.some(i=>i.inputName===$(this).attr("name"))?(d=d.filter(i=>i.inputName!==$(this).attr("name")),d.push({inputName:$(this).attr("name"),value:$(this).val()})):d.push({inputName:$(this).attr("name"),value:$(this).val()})):d.some(i=>i.inputName===$(this).attr("name"))?(d=d.filter(i=>i.inputName!==$(this).attr("name")),d.push({inputName:$(this).attr("name"),value:$(this).val()})):d.push({inputName:$(this).attr("name"),value:$(this).val()})}),localStorage.removeItem("filledInput"),localStorage.setItem("filledInput",JSON.stringify(d)),console.log(g)}function w(){a=[],N=$("textarea:visible").length,q=$(t[e]).find('input[type="text"]:visible').length,C=$(t[e]).find('input[type="email"]:visible').length,A=$(t[e]).find('input[type="checkbox"]:visible').length,$('[data-form="custom-progress-indicator"]').removeClass("current"),$($('[data-form="custom-progress-indicator"]')[e]).addClass("current"),h=r.filter(i=>i.step===e-1),$("[data-answer]").hide(),t.hide(),x===!0&&Window.Webflow.destroy(),$(y[e]).addClass("current"),x===!0?(window.Webflow&&Window.Webflow.require("ix2").init(),document.dispatchEvent(new Event("readystatechange")),$(t[e]).show()):$(t[e]).fadeIn("slow"),h.length>0?$(t[e]).find(`[data-answer="${h[0].selected}"]`).show():($(t[e]).find(`[data-answer="${k}"]`).show(),console.log($(t[e]).find(`[data-answer="${k}"]`).find(":input"))),e===0?$('[data-form="back-btn"]').hide():e===t.length-1||$(t[e]).find('[data-form="submit"]:visible').length>0?($('[data-form="next-btn"]').hide(),$('[data-form="submit-btn"]').show(),$('[data-form="back-btn"]').show()):($('[data-form="next-btn"]').show(),$('[data-form="back-btn"]').show(),$('[data-form="submit-btn"]').hide()),$($(t[e]).find("input[autofocus]")[0]).focus(),$($(t[e]).find("textarea[autofocus]")[0]).focus(),r=r.filter(i=>i.step!==e),$(t[e]).find(":input").trigger("input"),S()}function B(i){/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(i)?b=!0:b=!1}function S(i){u=!0,f=!0,s=!0,$(t[e]).data("card")&&m(),$(t[e]).find("input[required]:visible").length>0?F():m();let c=$(t[e]).data("checkbox")?$(t[e]).data("checkbox"):0;if(!$("[data-logic-extra]").data("logic-extra"))$(t[e]).find(":input").is('[type="checkbox"]')&&(c==="*"||c>$(t[e]).find(':input[type="checkbox"]').length?$(t[e]).find(':input[type="checkbox"]').each(function(){$(this).is(":checked")?$(t[e]).find(":input[required]").length<1&&(s=!0):s=!1}):$(t[e]).find(':input[type="checkbox"]:checked').length>=c?s=!0:s=!1),$(t[e]).find(":input[required]").is('[type="radio"]')&&($(t[e]).find(':input[type="radio"]').is(":checked")?f=!0:f=!1),$(t[e]).find(':input[type="text"][required]').each(function(n){$(this).val()!==""?a=a.filter(o=>o.input!==n):a.find(o=>o.input===n)||a.push({input:n}),a.length===0?u=!0:u=!1}),$(t[e]).find(':input[type="email"][required]').each(function(){$(this).val()!==""?B($(this).val()):b=!1});else{if(console.log("logic extra"),$(t[e]).find("[data-answer]:visible").find(":input").is('[type="checkbox"]'))if(c==="*"||c>$(t[e]).find(':input[type="checkbox"]').length)$(t[e]).find(':input[type="checkbox"]').each(function(){if($(this).is(":checked")){if($(t[e]).find(":input[required]").length<1){let n=$(this).parents("[data-go-to]").attr("data-go-to");r=r.filter(o=>o.step!==e),r.push({step:e,selected:n}),s=!0}}else s=!1});else if($(t[e]).find("[data-answer]:visible").find(':input[type="checkbox"]:checked').length>=c){if($(t[e]).find(":input[required]").length<1){let n=$(t[e]).find("[data-answer]:visible").find(':input[type="checkbox"]:checked').parents("[data-go-to]").attr("data-go-to");r=r.filter(o=>o.step!==e),r.push({step:e,selected:n}),s=!0}}else s=!1;$(t[e]).find("[data-answer]:visible").find(":input[required]").is('[type="radio"]')&&($(t[e]).find(':input[type="radio"]').is(":checked")?f=!0:f=!1),$(t[e]).find("[data-answer]:visible").find(':input[type="text"][required]').each(function(n){if($(this).val()!==""){let o=$(this).attr("data-go-to");r=r.filter(p=>p.step!==e),r.push({step:e,selected:o}),a=a.filter(p=>p.input!==n)}else a.find(o=>o.input===n)||a.push({input:n});a.length===0?u=!0:u=!1,console.log(a)}),$(t[e]).find("[data-answer]:visible").find(':input[type="email"][required]').each(function(n){if($(this).val()!==""){let o=$(this).attr("data-go-to");r=r.filter(p=>p.step!==e),r.push({step:e,selected:o}),B($(this).val())}else b=!1})}u&&s&&f&&b?m():F()}function L(){e++,e<=t.length-1&&(console.log(e,t.length-1),w(),E&&H(),$('[data-text="current-step"]').text($(t[e]).data("card")?l=l+0:l=l+1))}function M(){e>0&&($(y[e]).removeClass("current"),e--,w()),$('[data-text="current-step"]').text(l=l-1)}$("body").on("keypress",function(i){i.keyCode===13&&v&&($("[data-enter]").data("enter")&&$('[data-form="next-btn"]')[0].click(),i.preventDefault())});$("body").keydown(function(i){(i.metaKey||i.ctrlKey)&&i.keyCode===13&&(e>=t.length-1?$("form").submit():i.preventDefault())});$('[data-form="next-btn"]').on("click",function(){L(),$(t[e]).find(":input").trigger("input")});$('[data-form="back-btn"]').on("click",function(){M()});$(t).find(":input").on("input",function(i){S(i)});$(t).find(":radio").on("click",function(){if($(t[e]).find(":input").is(":checked")){let i=$(t[e]).find("input[type='radio']:checked").attr("data-go-to");r.push({step:e,selected:i}),$(t[e]).find("[data-radio-skip]").data("radio-skip")===!0&&(console.log("skip"),N===0&&q===0&&C===0&&A===0&&setTimeout(function(){L()},$(t[e]).find("[data-radio-delay]").data("radio-delay")))}});$('[data-form="submit-btn"]').on("click",function(i){i.preventDefault(),$("[data-logic-extra]").data("logic-extra")&&($(this).prop("novalidate",!0),$(t).find(":input").prop("required",!1)),localStorage.removeItem("filledInput"),$(this).parents("form").submit()});t.each(function(){$('[data-form="progress"]').append(I.clone())});y=$('[data-form="progress"]').children();w();})();
